<div class="material-card-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Creá un cálculo</mat-card-title>
      <mat-card-subtitle>Un cálculo puede ser un valor simple o una composición
        de valores simples con operadores matemáticos.</mat-card-subtitle>
    </mat-card-header>
    <mat-tab-group animationDuration="500ms">

      <mat-tab label="Simple">
        <ng-template matTabContent>
          <form [formGroup]="simpleForm" novalidate autocomplete="off">
            <mat-card-content>
              <mat-form-field appearance="outline">
                <mat-label>Nombre</mat-label>
                <input
                  matInput
                  type="text"
                  formControlName="name"
                  placeholder="Nombre">
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Valor numérico</mat-label>
                <input
                  matInput
                  type="number"
                  formControlName="value"
                  placeholder="Valor numérico">
              </mat-form-field>
            </mat-card-content>
            <mat-card-actions>
              <button mat-raised-button
                      color="primary"
                      name="submit"
                      [disabled]="!simpleForm.valid"
                      (click)="newSimpleCalc()">
                Guardar
              </button>
            </mat-card-actions>

          </form>
        </ng-template>
      </mat-tab>

      <mat-tab label="Compuesto">
        <ng-template matTabContent>
          <form [formGroup]="form" novalidate autocomplete="off">
            <mat-card-content>

              <mat-form-field appearance="outline">
                <mat-label>Nombre</mat-label>
                <input
                  matInput
                  type="text"
                  formControlName="name"
                  placeholder="Nombre">
                <mat-error *ngIf="hasError('name', 'required')">Esta entrada es requerida</mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Primer término</mat-label>
                <mat-select [(value)]="node1" placeholder="Primer término">
                  <mat-option *ngFor="let calc of calculables" value="{{calc._id}}">{{calc.name}}</mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Operador entre términos</mat-label>
                <mat-select [(value)]="operator" placeholder="Operador entre términos">
                  <mat-option value="PLUS">Sumar</mat-option>
                  <mat-option value="MINUS">Restar</mat-option>
                  <mat-option value="TIMES">Multiplicar</mat-option>
                  <mat-option value="DIVIDE">Dividir</mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field appearance="outline">
                <mat-label>Segundo término</mat-label>
                <mat-select [(value)]="node2" placeholder="Segundo término">
                  <mat-option *ngFor="let calc of calculables" value="{{calc._id}}">{{calc.name}}</mat-option>
                </mat-select>
              </mat-form-field>

            </mat-card-content>
            <mat-card-actions>
              <button mat-raised-button
                      color="primary"
                      name="submit"
                      [disabled]="!form.valid"
                      (click)="newCalc()">
                Guardar
              </button>
            </mat-card-actions>
          </form>
        </ng-template>
      </mat-tab>

    </mat-tab-group>

  </mat-card>

</div>
